(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{6426:function(e,r,n){"use strict";n.d(r,{kZ:function(){return i},rg:function(){return l}});var t=n(7294);const s=(0,t.createContext)(null);function l({clientId:e,onScriptLoadSuccess:r,onScriptLoadError:n,children:l}){const o=function(e={}){const{onScriptLoadSuccess:r,onScriptLoadError:n}=e,[s,l]=(0,t.useState)(!1),o=(0,t.useRef)(r);o.current=r;const a=(0,t.useRef)(n);return a.current=n,(0,t.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=()=>{var e;l(!0),null===(e=o.current)||void 0===e||e.call(o)},e.onerror=()=>{var e;l(!1),null===(e=a.current)||void 0===e||e.call(a)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),s}({onScriptLoadSuccess:r,onScriptLoadError:n}),a=(0,t.useMemo)((()=>({clientId:e,scriptLoadedSuccessfully:o})),[e,o]);return t.createElement(s.Provider,{value:a},l)}function o(){const e=(0,t.useContext)(s);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}const a={large:40,medium:32,small:20};function i({onSuccess:e,onError:r,useOneTap:n,promptMomentNotification:s,type:l="standard",theme:i="outline",size:c="large",text:u,shape:d,logo_alignment:m,width:f,locale:h,...p}){const v=(0,t.useRef)(null),{clientId:x,scriptLoadedSuccessfully:w}=o(),g=(0,t.useRef)(e);g.current=e;const b=(0,t.useRef)(r);b.current=r;const j=(0,t.useRef)(s);return j.current=s,(0,t.useEffect)((()=>{var e,r,t;if(w)return null===(e=window.google)||void 0===e||e.accounts.id.initialize({client_id:x,callback:e=>{var r;if(!e.clientId||!e.credential)return null===(r=b.current)||void 0===r?void 0:r.call(b);g.current(e)},...p}),null===(r=window.google)||void 0===r||r.accounts.id.renderButton(v.current,{type:l,theme:i,size:c,text:u,shape:d,logo_alignment:m,width:f,locale:h}),n&&(null===(t=window.google)||void 0===t||t.accounts.id.prompt(j.current)),()=>{var e;n&&(null===(e=window.google)||void 0===e||e.accounts.id.cancel())}}),[x,w,n,l,i,c,u,d,m,f,h]),t.createElement("div",{ref:v,style:{height:a[c]}})}},8740:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return n(72)}])},4950:function(e,r,n){"use strict";var t=n(5893),s=n(155),l=n(7516),o=n(3750);r.Z=function(e){var r=e.type,n=void 0===r?"warning":r,a=e.title,i=void 0===a?"Alert title":a,c=e.action,u=e.className,d="error"===n?l.Cw1:"success"===n?o.nRB:s.SZZ;return(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2.5 items-stretch justify-between rounded-md overflow-hidden p-1.5 border _alert ".concat(n," ").concat(u||""),children:[(0,t.jsxs)("div",{className:"flex items-stretch flex-grow",children:[(0,t.jsx)("div",{className:"min-h-[32px] min-w-[32px] max-h-[50] max-w-[50px] flex-shrink-0 rounded-md overflow-hidden p-1.5 _flex_center text-white _alert_icon_wrapper",style:{aspectRatio:"1/1"},children:(0,t.jsx)(d,{className:"w-full h-full"})}),(0,t.jsx)("div",{className:"px-2.5 flex items-center",children:(0,t.jsx)("h6",{className:"_h6 font-medium text-sm",children:i})})]}),c&&(0,t.jsx)("div",{className:"flex flex-shrink-0 justify-end sm:justify-start items-center",children:c})]})}},9264:function(e,r,n){"use strict";var t=n(5893),s=n(2175);r.Z=function(e){var r=e.name,n=e.showError,l=e.msg,o=(0,s.u6)(),a=o.errors,i=o.touched;return n||a[r]&&i[r]?(0,t.jsxs)("div",{className:"flex items-center space-x-1.5 text-red-600 text-xs mt-1.5",children:[(0,t.jsx)("div",{children:(0,t.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsxs)("g",{children:[(0,t.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,t.jsx)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z"})]})})}),(0,t.jsx)("span",{children:l||a[r]})]}):null}},2082:function(e,r,n){"use strict";var t=n(5893),s=n(2175),l=n(9264);function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){o(e,r,n[r])}))}return e}function i(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n,t,s={},l=Object.keys(e);for(t=0;t<l.length;t++)n=l[t],r.indexOf(n)>=0||(s[n]=e[n]);return s}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}r.Z=function(e){var r=e.name,n=(e.className,e.type),o=void 0===n?"text":n,u=e.disabledErrorMessage,d=i(e,["name","className","type","disabledErrorMessage"]),m=(0,s.u6)(),f=m.errors,h=m.touched;if(!r)throw new Error("name is required");var p=f[r]&&h[r];return(0,t.jsxs)("div",{children:[(0,t.jsx)(s.gN,a({name:r,type:o},d,{isError:p,component:c})),!u&&(0,t.jsx)(l.Z,{name:r})]})};var c=function(e){var r=e.field,n=(e.form,e.className),s=e.label,l=e.isError,o=e.isTextArea,c=i(e,["field","form","className","label","isError","isTextArea"]);return(0,t.jsxs)("label",{className:"inline-block w-full",children:[s&&(0,t.jsx)("label",{htmlFor:r.name,className:"_subtitle2 mb-1.5 block",children:s}),o?(0,t.jsx)("textarea",a({id:r.name,className:"_input ".concat(n||""," ").concat(l?"!border-red-500":"")},r,c)):(0,t.jsx)("input",a({id:r.name,className:"_input ".concat(n||""," ").concat(l?"!border-red-500":"")},r,c))]})}},72:function(e,r,n){"use strict";n.r(r);var t=n(5893),s=n(2175),l=n(9008),o=n(1664),a=n(1163),i=n(7294),c=n(6426),u=n(4231),d=n(3513),m=n(4950),f=n(2077),h=n(1907),p=n(9763),v=n(2082),x=n(4811),w=n(7537),g=n(8604),b=n(8313);function j(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var y={username:"",phone:"",email:"",password:"",confirm_password:""},_=u.Ry().shape({username:u.Z_().required().trim().label("Username"),phone:u.Z_().required().matches(/(^(\+88|0088)?(01){1}[13456789]{1}(\d){8})$/,"Phone number must be a valid phone number").trim().label("Phone"),email:u.Z_().required().email().trim().lowercase().label("Email"),password:u.Z_().required().trim().label("Password"),confirm_password:u.Z_().required().oneOf([u.iH("password"),null],"Confirm password not matched with password").trim().label("Confirm Password")});r.default=function(){var e,r=(0,i.useState)(!1),n=r[0],u=r[1],N=(0,i.useState)(!1),O=N[0],E=N[1],S=(0,i.useContext)(b.globalContext).saveAuthUser,P=(0,a.useRouter)(),Z=null===P||void 0===P||null===(e=P.query)||void 0===e?void 0:e[x.ly];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.default,{children:(0,t.jsxs)("title",{children:["Register ",x.OA]})}),(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"w-full sm:w-[380px] md:w-[650px] _form_wrapper relative",children:[n&&(0,t.jsx)("div",{className:"_absolute_full"}),(0,t.jsx)("h3",{className:"_h3",children:"Register"}),O&&(0,t.jsx)(m.Z,{className:"mt-7",type:"error",title:O}),(0,t.jsxs)("div",{className:"relative !mt-7",children:[n&&(0,t.jsx)("div",{className:"_absolute_full _flex_center bg-white/75",children:(0,t.jsx)(h.Z,{size:20,className:"text-primary-500"})}),(0,t.jsx)(c.rg,{clientId:"144565329999-v7vjspcie0mgefdasmojgd3240q2iono.apps.googleusercontent.com",children:(0,t.jsx)(c.kZ,{onSuccess:function(e){var r;r=e,d.ZP.post("/google-login",{idToken:null===r||void 0===r?void 0:r.credential}).then((function(e){var r,n=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.data,t=n.user,s=n.token;S(t,s,!0)})).catch((function(e){u(!1),E((0,g.FU)(e))}))},onError:function(){E("Something went wrong. Try again"),u(!1)}})})]}),(0,t.jsxs)("div",{className:"mt-8 relative",children:[(0,t.jsx)("span",{className:"_subtitle2 absolute z-10 left-1/2 top-1/2 -translate-y-1/2 -translate-x-1/2 bg-white py-1 px-2",children:"Or"}),(0,t.jsx)(p.Z,{})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)(s.J9,{initialValues:y,validationSchema:_,onSubmit:function(e,r){var n=r.setSubmitting,t=r.setFieldError,s=r.resetForm;n(!1),E(!1),u(!0),d.ZP.post("/register",function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){j(e,r,n[r])}))}return e}({},e)).then((function(e){var r=e.data.data,n=r.user,t=r.token;s(),S(n,t,!0,Z)})).catch((function(e){var r,s;n(!0);var l=null===e||void 0===e||null===(r=e.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errors;(null===l||void 0===l?void 0:l.length)>0?l.forEach((function(e){t(e.param,e.msg)})):E((0,g.FU)(e))})).finally((function(){u(!1)}))},children:function(e){var r=e.handleSubmit;return(0,t.jsxs)("form",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"_grid_2",children:[(0,t.jsx)(v.Z,{name:"username",label:"Username",placeholder:"Username"}),(0,t.jsx)(v.Z,{name:"phone",label:"Phone",placeholder:"Phone"})]}),(0,t.jsx)(v.Z,{name:"email",type:"email",label:"Email",placeholder:"Email"}),(0,t.jsxs)("div",{className:"_grid_2",children:[(0,t.jsx)(v.Z,{name:"password",type:"password",label:"Password",placeholder:"Password"}),(0,t.jsx)(v.Z,{name:"confirm_password",type:"password",label:"Confirm Password",placeholder:"Confirm Password"})]}),(0,t.jsx)(f.Z,{type:"submit",loading:n,className:"w-full",onClick:r,children:"Create account"})]})}}),(0,t.jsxs)("div",{className:"flex mt-3.5 items-center justify-center flex-wrap gap-1.5 _subtitle2",children:["Have an account?",(0,t.jsx)(o.default,{href:"".concat(w.Z.login.name).concat((0,g.u)(P)),children:(0,t.jsx)("a",{className:"_link",children:"Login here"})})]})]})]})})]})}}},function(e){e.O(0,[141,774,888,179],(function(){return r=8740,e(e.s=r);var r}));var r=e.O();_N_E=r}]);